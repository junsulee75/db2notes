"use strict";(self.webpackChunkdb_2_notes=self.webpackChunkdb_2_notes||[]).push([[291],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return p}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var i=r.createContext({}),l=function(e){var t=r.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},s=function(e){var t=l(e.components);return r.createElement(i.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},b=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,i=e.parentName,s=d(e,["components","mdxType","originalType","parentName"]),b=l(n),p=o,u=b["".concat(i,".").concat(p)]||b[p]||m[p]||a;return n?r.createElement(u,c(c({ref:t},s),{},{components:n})):r.createElement(u,c({ref:t},s))}));function p(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,c=new Array(a);c[0]=b;var d={};for(var i in t)hasOwnProperty.call(t,i)&&(d[i]=t[i]);d.originalType=e,d.mdxType="string"==typeof e?e:o,c[1]=d;for(var l=2;l<a;l++)c[l]=n[l];return r.createElement.apply(null,c)}return r.createElement.apply(null,n)}b.displayName="MDXCreateElement"},2492:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return d},contentTitle:function(){return i},metadata:function(){return l},toc:function(){return s},default:function(){return b}});var r=n(7462),o=n(3366),a=(n(7294),n(3905)),c=["components"],d={id:"dockeronmac",title:"Install Db2 docker image on mac",sidebar_label:"Install Db2 docker image on mac"},i="Install Db2 docker image on mac",l={unversionedId:"docker/dockeronmac",id:"docker/dockeronmac",isDocsHomePage:!1,title:"Install Db2 docker image on mac",description:"This is the test example output implementing Installing the Db2 Community Edition Docker image on macOS systems.",source:"@site/docs/docker/dockeronmac.md",sourceDirName:"docker",slug:"/docker/dockeronmac",permalink:"/db2notes/docs/docker/dockeronmac",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/docker/dockeronmac.md",version:"current",frontMatter:{id:"dockeronmac",title:"Install Db2 docker image on mac",sidebar_label:"Install Db2 docker image on mac"},sidebar:"tutorialSidebar",previous:{title:"Translate your site",permalink:"/db2notes/docs/tutorial-extras/translate-your-site"}},s=[{value:"1.Create a directory to install Docker DB2",id:"1create-a-directory-to-install-docker-db2",children:[]},{value:"2.Docker login.",id:"2docker-login",children:[]},{value:"3. Download Docker image",id:"3-download-docker-image",children:[]},{value:"4. Create a environment variable file.",id:"4-create-a-environment-variable-file",children:[]},{value:"5. Start the DB2 docker image",id:"5-start-the-db2-docker-image",children:[]},{value:"6. Enter the DB2 conatiner.",id:"6-enter-the-db2-conatiner",children:[]}],m={toc:s};function b(e){var t=e.components,n=(0,o.Z)(e,c);return(0,a.kt)("wrapper",(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"install-db2-docker-image-on-mac"},"Install Db2 docker image on mac"),(0,a.kt)("p",null,"This is the test example output implementing ",(0,a.kt)("a",{parentName:"p",href:"https://www.ibm.com/docs/en/db2/11.5?topic=system-macos"},"Installing the Db2 Community Edition Docker image on macOS systems"),".",(0,a.kt)("br",{parentName:"p"}),"\n","In history, there had been a binary installation for Mac OS but it had to deal with ",(0,a.kt)("inlineCode",{parentName:"p"},"root")," interaction etc.",(0,a.kt)("br",{parentName:"p"}),"\n","Nowadays, it is easier to have Db2 test environment on your mac using this step.",(0,a.kt)("br",{parentName:"p"}),"\n","I assume you have Docker installed already.",(0,a.kt)("br",{parentName:"p"}),"\n","I used Docker version ",(0,a.kt)("inlineCode",{parentName:"p"},"Docker version 20.10.5")," for this test on Mac OS Big Sur.         "),(0,a.kt)("h2",{id:"1create-a-directory-to-install-docker-db2"},"1.Create a directory to install Docker DB2"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"jsmacpro15touch:dockerdb2 kr050496$ pwd\n/Users/kr050496/software/dockerdb2\n")),(0,a.kt)("h2",{id:"2docker-login"},"2.Docker login."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"jsmacpro15touch:dockerdb2 kr050496$ sudo docker login\nPassword: <<Your Mac OS user password>>\nAuthenticating with existing credentials...\nLogin Succeeded\n")),(0,a.kt)("h2",{id:"3-download-docker-image"},"3. Download Docker image"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"jsmacpro15touch:dockerdb2 kr050496$ docker pull ibmcom/db2\nUsing default tag: latest\nlatest: Pulling from ibmcom/db2\nb855b55fea8a: Pull complete \n424ac630d77d: Pull complete \n5387ab5962e4: Pull complete \n8ce2d0d5d5ee: Pull complete \n96c1f80dab85: Pull complete \n33283ba45571: Pull complete \n182a930a0703: Pull complete \nc3af749e31de: Pull complete \n4345966eef42: Pull complete \ne9b72a3335ed: Pull complete \ne71fc1b31d43: Pull complete \n221a3dbbe132: Pull complete \nDigest: sha256:77da4492bf18c49a1012aa6071a16aee0039dca9c0a2a492345b6b030714a54f\nStatus: Downloaded newer image for ibmcom/db2:latest\ndocker.io/ibmcom/db2:latest\n\njsmacpro15touch:dockerdb2 kr050496$ docker images\nREPOSITORY   TAG       IMAGE ID       CREATED       SIZE\nibmcom/db2   latest    e304e217603b   3 weeks ago   2.78GB\n\njsmacpro15touch:dockerdb2 kr050496$ docker container ls\nCONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES\n")),(0,a.kt)("h2",{id:"4-create-a-environment-variable-file"},"4. Create a environment variable file."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"jsmacpro15touch:dockerdb2 kr050496$ cat .env_list\nLICENSE=accept\nDB2INSTANCE=db2inst1\nDB2INST1_PASSWORD=password\nDBNAME=testdb\nBLU=false\nENABLE_ORACLE_COMPATIBILITY=false\nUPDATEAVAIL=NO\nTO_CREATE_SAMPLEDB=false\nREPODB=false\nIS_OSXFS=true\nPERSISTENT_HOME=true\nHADR_ENABLED=false\nETCD_ENDPOINT=\nETCD_USERNAME=\nETCD_PASSWORD=\n")),(0,a.kt)("h2",{id:"5-start-the-db2-docker-image"},"5. Start the DB2 docker image"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'jsmacpro15touch:dockerdb2 kr050496$  docker run -h jsdb2docker --name dockerdb2 --restart=always --detach --privileged=true -p 50000:50000 --env-file .env_list -v /Users/kr050496/software/dockerdb2:/database ibmcom/db2\n54211875b8e859f3fcc8a07ae6be277cbf112420ee77bf7f9ce920659d776f25\n\njsmacpro15touch:dockerdb2 kr050496$ docker ps\nCONTAINER ID   IMAGE        COMMAND                  CREATED          STATUS         PORTS                                                          NAMES\nc1c2dc7ce629   ibmcom/db2   "/var/db2_setup/lib/\u2026"   10 seconds ago   Up 9 seconds   22/tcp, 55000/tcp, 60006-60007/tcp, 0.0.0.0:50000->50000/tcp   dockerdb2\n\njsmacpro15touch:dockerdb2 kr050496$ docker container ls\nCONTAINER ID   IMAGE        COMMAND                  CREATED          STATUS          PORTS                                                          NAMES\nc1c2dc7ce629   ibmcom/db2   "/var/db2_setup/lib/\u2026"   27 seconds ago   Up 26 seconds   22/tcp, 55000/tcp, 60006-60007/tcp, 0.0.0.0:50000->50000/tcp   dockerdb2\n')),(0,a.kt)("h2",{id:"6-enter-the-db2-conatiner"},"6. Enter the DB2 conatiner."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"jsmacpro15touch:dockerdb2 kr050496$ docker exec -it dockerdb2 bash \n[root@jsdb2docker /]# whoami \nroot\n[root@jsdb2docker /]# id\nuid=0(root) gid=0(root) groups=0(root)\n\n[root@jsdb2docker /]# su - db2inst1\nLast login: Fri Aug  6 00:54:39 UTC 2021\n\n[db2inst1@jsdb2docker ~]$ db2_ps\nNode 0\n     UID        PID       PPID    C     STIME     TTY     TIME CMD\n    root      15305          1    0     00:54       ? 00:00:00 db2wdog 0 [db2inst1]\ndb2inst1      15307      15305    2     00:54       ? 00:00:01 db2sysc 0\n    root      15313      15305    0     00:54       ? 00:00:00 db2ckpwd 0\n    root      15314      15305    0     00:54       ? 00:00:00 db2ckpwd 0\n    root      15315      15305    0     00:54       ? 00:00:00 db2ckpwd 0\ndb2inst1      15317      15305    0     00:54       ? 00:00:00 db2vend (PD Vendor Process - 1) 0\ndb2inst1      15325      15305    0     00:54       ? 00:00:00 db2acd 0 ,0,0,0,1,0,0,00000000,0,0,0000000000000000,0000000000000000,00000000,00000000,00000000,00000000,00000000,00000000,0000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,00000000,0000000040000000,0000000000000000,0000000000000000,1,0,0,,,,,a89e05,14,1e014,2,0,1,0000000000041fc0,0x240000000,0x240000000,1600000,2,2,1e\n[db2inst1@jsdb2docker ~]$ db2 list db directory\n\n System Database Directory\n\n Number of entries in the directory = 1\n\nDatabase 1 entry:\n\n Database alias                       = TESTDB\n Database name                        = TESTDB\n Local database directory             = /database/data\n Database release level               = 15.00\n Comment                              =\n Directory entry type                 = Indirect\n Catalog database partition number    = 0\n Alternate server hostname            =\n Alternate server port number         =\n\n")),(0,a.kt)("p",null,"Enjoy !!"))}b.isMDXComponent=!0}}]);